# MSI Calculator 4.3

Графический калькулятор на Python/Tkinter в стиле «MSI», с фоновым скином-изображением и кликабельными областями кнопок. Поддерживает ввод как мышью, так и с клавиатуры.

## Возможности (Features)

- GUI-калькулятор (Tkinter) с фиксированным окном `412x471`.
- Ввод выражений:
  - цифры `0–9`, десятичная точка `.`
  - операции `+`, `-`, `*`, `/`
- Вычисление по `Enter` или кнопке `=`.
- Дополнительные функции:
  - `AC` (полный сброс)
  - `CE/Delete` (очистка текущего ввода)
  - `Backspace` (удаление последнего символа)
  - смена знака `+/-`
  - проценты `%`
  - квадратный корень `√`
- Буфер обмена:
  - `Ctrl+C` — копировать текущее значение (или результат выражения, если введён оператор)
  - `Ctrl+V` — вставить число (из вставки берутся только символы `0-9`, `.`, `-`)
- Поддержка запуска как скрипта и в виде EXE (логика путей для PyInstaller через `sys._MEIPASS`).

## Требования (Requirements)

- Windows 10/11 (ориентировано на Windows; можно запускать и на других ОС с Tkinter).
- Python 3.x
- Стандартные библиотеки (ничего устанавливать через pip не нужно):
  - `tkinter`
  - `math` (используется `sqrt`)
  - `os`, `sys`
- Ресурс (обязательно для «скина»):
  - `msi_calculator471.png` рядом со скриптом

Примечание: если файл изображения не найден, программа попробует загрузить `msi_calculator471_3.png` из текущей рабочей директории и, если не получится, покажет серый фон.

## Установка (Installation)

1. Установите Python 3.x:
   - Скачайте с https://www.python.org/downloads/
   - При установке отметьте галочку **“Add Python to PATH”**.
2. Склонируйте репозиторий или скачайте архив с проектом.
3. Убедитесь, что рядом с файлом `msi_calc_4_3.pyw` лежит изображение `msi_calculator471.png`.

Рекомендуемая структура:

```text
project/
  msi_calc_4_3.pyw
  msi_calculator471.png
  README.md
```

## Запуск (Windows)

Вариант A — двойной клик:

- Запустите `msi_calc_4_3.pyw` двойным кликом (обычно открывается через pythonw).

Вариант B — через терминал (PowerShell/Command Prompt):

```bat
cd путь\к\папке\с\проектом
python msi_calc_4_3.pyw
```

Если команда `python` не находится, попробуйте:

```bat
py msi_calc_4_3.pyw
```

## Использование (Usage)

### Основные операции

- Наберите выражение (кнопками мышью или с клавиатуры), затем нажмите `=` или `Enter`.
- `Esc` — полный сброс (AC).
- `Delete` — очистка текущего ввода (CE).
- `Backspace` — удалить последний введённый символ.

### Примеры

1) Сложение:

- Ввод: `12 + 30` → `Enter`
- Результат: `42`

2) Дробные числа:

- Ввод: `3.5 * 2` → `Enter`
- Результат: `7`

3) Проценты:

- Пример (типовой сценарий): `200 + 10%`
  - Введите `200`, нажмите `+`, введите `10`, нажмите `%`, затем `Enter`
  - Ожидаемое поведение: калькулятор подставит 10% от предыдущего числа (200), то есть 20

4) Квадратный корень:

- Введите `81`, нажмите `√` (или клавишу `s`), получите `9`

### Горячие клавиши

- `0–9`, `.` — ввод числа
- `+`, `-`, `*`, `/` — операции (поддерживается и NumPad)
- `Enter` — вычислить
- `Esc` — `AC` (сброс всего)
- `Delete` — `CE` (очистить ввод)
- `Backspace` — удалить последний символ
- `s` — квадратный корень
- `Ctrl+C` — копировать
- `Ctrl+V` — вставить

## Скриншоты (Screenshots)

Добавьте сюда изображения интерфейса:

- `docs/screenshots/main.png`
- `docs/screenshots/example_1.png`

И вставьте в README, например:

```md
![Главное окно](docs/screenshots/main.png)
```

## Troubleshooting / FAQ

### Программа запускается, но не видно «скин» / фон

- Убедитесь, что файл `msi_calculator471.png` находится рядом с `msi_calc_4_3.pyw`.
- Проверьте, что имя файла совпадает (регистр, расширение).
- Если запускаете из другой папки, учитывайте, что запасной вариант ищет `msi_calculator471_3.png` в текущей рабочей директории.

### В консоли появляется сообщение “Загружаем изображение из: …”

Это диагностический `print()` из кода — нормально. Если не хотите вывод в консоль, удалите/закомментируйте строку `print(...)`.

### Ошибка `TclError: couldn't open "...png"`

- Повреждён или отсутствует файл изображения.
- Путь содержит спецсимволы/нет прав доступа. Переместите проект в папку попроще (например, `C:\Projects\msi_calc`).

### Не работает шрифт “Digital-7”

Приложение пытается использовать шрифт `Digital-7`. Если он не установлен, Tkinter подставит другой.

Как исправить:

- Установите шрифт **Digital-7** в Windows (файл `.ttf`) и перезапустите приложение.
- Либо замените шрифт в коде (поиск `font=("Digital-7", ...)`).

### Почему нельзя менять размер окна?

Окно намеренно зафиксировано (`resizable(False, False)`), а кнопки привязаны к жёстким координатам на Canvas.

### Безопасно ли использовать `eval()`?

В коде используется `eval(expr)` для вычисления введённого выражения. Это нормально для локального калькулятора, но **небезопасно**, если разрешать ввод произвольного текста из ненадёжного источника.

Рекомендации:

- Не расширяйте вставку из буфера обмена на произвольные символы.
- Для «продуктового» проекта замените `eval()` на безопасный парсер выражений.

## Лицензия (License)

`TODO:` укажите лицензию проекта (например, MIT) и добавьте файл `LICENSE` в корень репозитория.
